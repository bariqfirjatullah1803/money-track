import{r as n,W as v,j as e,a as A}from"./app-Bm3w0RM1.js";import{P as b}from"./PrimaryButton-qhUqRbVl.js";import{C as O,r as B}from"./Card-B8PnQ9PL.js";import{A as K}from"./AuthenticatedLayout-XqNuW9wA.js";import{F as L,f as J}from"./DateFormat-AG7X1Zcn.js";import{I as a}from"./InputLabel-Dx3ahOVJ.js";import{T as i,I as t}from"./TextInput-CL3nA2Rl.js";import{M as w,S as C}from"./Modal-Bx-39noo.js";import{D as W}from"./DangerButton-CXe--g1H.js";import"./ApplicationLogo-DQKD7u51.js";import"./transition-1nKnzdAP.js";function te({auth:D,transactions:h,plans:_}){const[F,f]=n.useState(!1),[M,p]=n.useState(!1),m=n.useRef(),y=n.useRef(),j=n.useRef(),N=n.useRef(),{data:c,setData:u,post:S,processing:T,reset:P,errors:x}=v({name:"",description:"",money:"",status:"out"}),{data:l,setData:o,put:$,delete:E,processing:q,reset:z,errors:g}=v({id:"",name:"",description:"",money:"",status:"out"}),k=(s="add",d=null)=>{s==="add"&&f(!0),s==="edit"&&(o(d),p(!0))},r=(s="add")=>{s==="add"&&f(!1),s==="edit"&&p(!1)},I=s=>{s.preventDefault(),S(route("transaction.store"),{preserveScroll:!0,onSuccess:()=>r(),onError:()=>m.current.focus(),onFinish:()=>P()})},R=(s,d)=>{s.preventDefault(),E(route("transaction.destroy",d),{onSuccess:()=>r("edit"),onError:()=>m.current.focus(),onFinish:()=>r("edit")})};return e.jsxs(K,{user:D.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Transaksi"}),children:[e.jsx(A,{title:"Transaksi"}),e.jsxs("div",{className:"py-5 flex flex-col gap-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center w-full mx-auto",children:[e.jsxs("a",{href:route("dashboard"),className:"text-sm text-gray-100 flex items-center justify-center gap-1",children:[e.jsx(L,{})," Kembali"]}),e.jsx(b,{className:"w-fit h-fit",onClick:()=>k("add"),children:"Tambah"})]}),h&&h.map((s,d)=>e.jsx(O,{className:"cursor-pointer",onClick:()=>k("edit",s),children:e.jsx("div",{className:"p-6 flex flex-col gap-1",children:e.jsxs("div",{className:"grid grid-cols-2 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{className:"text-gray-900 dark:text-gray-100 line-clamp-1 text-2xl font-bold",children:s.name}),e.jsx("p",{className:"dark:text-gray-100 text-lg line-clamp-2 ",children:s.description})]}),e.jsxs("div",{className:"flex flex-col gap-1 items-end",children:[e.jsx("span",{className:`${s.status==="in"?"bg-green-400":"bg-red-400"} rounded-lg px-3 py-0 me-1 text-white`,children:s.status==="in"?"Masuk":"Keluar"}),e.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:[" ",B(s.money)]}),e.jsx("p",{className:"dark:text-gray-100 text-sm",children:J(s.updated_at)})]})]})})},d))]}),e.jsx(w,{show:F,onClose:()=>r("add"),children:e.jsxs("form",{onSubmit:I,className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Tambahkan transaksi kamu"}),e.jsxs("div",{className:"mt-6",children:[e.jsx(a,{htmlFor:"name",value:"Password",className:"sr-only"}),e.jsx(i,{id:"name",type:"text",name:"name",ref:m,value:c.name,onChange:s=>u("name",s.target.value),className:"mt-1 block w-full",placeholder:"Nama transaksi"}),e.jsx(t,{message:x.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(a,{htmlFor:"description",value:"Password",className:"sr-only"}),e.jsx("textarea",{id:"description",name:"description",ref:y,value:c.description,onChange:s=>u("description",s.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm ",placeholder:"Deskripsi transaksi"}),e.jsx(t,{message:x.description,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(a,{htmlFor:"money",value:"Password",className:"sr-only"}),e.jsx(i,{id:"money",type:"text",min:0,name:"money",ref:j,value:c.money,onChange:s=>u("money",s.target.value),className:"mt-1 block w-full",placeholder:"Jumlah uang"}),e.jsx(t,{message:x.money,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(a,{htmlFor:"status",value:"In",className:"sr-only"}),e.jsxs("select",{id:"status",name:"money",ref:N,value:c.status,onChange:s=>u("status",s.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",children:[e.jsx("option",{value:"out",children:"Keluar"}),e.jsx("option",{value:"in",children:"Masuk"})]}),e.jsx(t,{message:x.status,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-end",children:[e.jsx(C,{onClick:()=>r("add"),children:"Cancel"}),e.jsx(b,{className:"ms-3",disabled:T,children:"Tambahkan"})]})]})}),e.jsx(w,{show:M,onClose:()=>r("edit"),children:e.jsxs("form",{className:"p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Edit transaksi kamu"}),e.jsxs("div",{className:"mt-6",children:[e.jsx(a,{htmlFor:"name",value:"Password",className:"sr-only"}),e.jsx(i,{id:"name",type:"text",name:"name",ref:m,value:l.name,onChange:s=>o("name",s.target.value),className:"mt-1 block w-full",placeholder:"Nama transaksi",readOnly:!0}),e.jsx(t,{message:g.name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(a,{htmlFor:"description",value:"Password",className:"sr-only"}),e.jsx("textarea",{id:"description",name:"description",ref:y,value:l.description,onChange:s=>o("description",s.target.value),className:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm ",placeholder:"Deskripsi transaksi",readOnly:!0}),e.jsx(t,{message:g.description,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(a,{htmlFor:"money",value:"Password",className:"sr-only"}),e.jsx(i,{id:"money",type:"text",min:0,name:"money",ref:j,value:l.money,onChange:s=>o("money",s.target.value),className:"mt-1 block w-full",placeholder:"Jumlah uang",readOnly:!0}),e.jsx(t,{message:g.money,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(a,{htmlFor:"status",value:"In",className:"sr-only"}),e.jsx(i,{id:"money",type:"text",min:0,name:"money",ref:N,value:l.status,onChange:s=>o("status",s.target.value),className:"mt-1 block w-full",readOnly:!0}),e.jsx(t,{message:g.status,className:"mt-2"})]}),e.jsxs("div",{className:"mt-6 flex justify-between",children:[e.jsx(W,{onClick:s=>R(s,l.id),children:"Delete"}),e.jsx("div",{children:e.jsx(C,{onClick:()=>r("edit"),children:"Cancel"})})]})]})})]})}export{te as default};
